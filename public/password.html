<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>비밀번호 수정 - 아무 말 대잔치</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/profile.css">
    <link rel="stylesheet" href="css/password.css">
    <script>
        (function () {
            var img = localStorage.getItem('profileImage');
            if (img) {
                var style = document.createElement('style');
                style.textContent = '#profileIcon { background-image: url(' + img + ') !important; }';
                document.head.appendChild(style);
            }
        })();
    </script>
</head>

<body>
    <header>
        <a href="/posts" class="back-button">&lt;</a>
        <span class="logo">아무 말 대잔치</span>
        <div class="header-content">
            <div class="profile-icon" id="profileIcon"></div>
            <!-- 드롭다운 메뉴 -->
            <div class="profile-dropdown" id="profileDropdown">
                <a href="profile.html" class="dropdown-item">회원정보수정</a>
                <a href="password.html" class="dropdown-item active">비밀번호수정</a>
                <a href="#" class="dropdown-item" id="logoutBtn">로그아웃</a>
            </div>
        </div>
    </header>

    <main class="password-container">
        <h1 class="page-title">비밀번호 수정</h1>

        <form id="passwordForm" class="password-form">
            <!-- 현재 비밀번호 (API 요구사항) -->
            <div class="input-group">
                <label for="currentPassword">현재 비밀번호</label>
                <input type="password" id="currentPassword" name="currentPassword" placeholder="현재 비밀번호를 입력해주세요">
                <div id="currentPasswordHelper" class="helper-text"></div>
            </div>

            <!-- 새 비밀번호 -->
            <div class="input-group">
                <label for="newPassword">비밀번호</label>
                <input type="password" id="newPassword" name="newPassword" placeholder="비밀번호를 입력해주세요">
                <div id="newPasswordHelper" class="helper-text"></div>
            </div>

            <!-- 새 비밀번호 확인 -->
            <div class="input-group">
                <label for="confirmPassword">비밀번호 확인</label>
                <input type="password" id="confirmPassword" name="confirmPassword" placeholder="비밀번호를 한번 더 입력해주세요">
                <div id="confirmPasswordHelper" class="helper-text"></div>
            </div>

            <!-- 수정하기 버튼 -->
            <button type="button" id="submitBtn" class="submit-btn" disabled>수정하기</button>
        </form>
    </main>

    <!-- 토스트 메시지 -->
    <div class="toast" id="toast">수정 완료</div>

    <script src="js/common.js"></script>
    <script src="js/modal.js"></script>
    <script src="js/password.js"></script>
</body>

</html>